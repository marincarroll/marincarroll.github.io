---
import Education from "./Education.astro";
import Work from "./Work.astro";
import ResumeSection from "./ResumeSection.astro";
import { etcetera } from "resume.json";
// TODO: eslint parsing error only when negative percentage margins are used in
//  x-intersect?
---

<section
  class="resume"
  x-intersect:enter.margin.0.0.-100%="shrinkHeader = true"
  x-intersect:leave.margin.0.0.-100%="shrinkHeader = false"
>
  <ResumeSection title="Experience">
    <Work />
  </ResumeSection>
  <ResumeSection title="Education">
    <Education />
  </ResumeSection>
  <ResumeSection title="Etcetera" class="no-print">
    {etcetera}
  </ResumeSection>
</section>
<style>
  .resume {
    background-color: var(--color-light);
    color: var(--color-dark);
    border-radius: var(--border-radius);
    position: relative;
    display: flex;
    flex-direction: column;
  }

  @media screen {
    .resume {
      padding: 3em 6vw 4em;
      gap: 2em;
    }
  }

  @media print {
    .resume {
      padding: 0 2em 2em;
    }
  }

  /* TODO shouldn't this come with stylelint-config-html/astro? */
  /* stylelint-disable selector-pseudo-class-no-unknown */
  :global(.resume ::selection) {
    background-color: var(--color-dark);
    color: var(--color-light);
  }
  /* stylelint-enable selector-pseudo-class-no-unknown */
</style>
<style is:global>
  .resume h3 {
    font-size: 1.5rem;
    margin-block: 0 0.5em;
  }

  .resume h4 {
    font-size: 1.125rem;
    margin-block: 0 0.5em;
  }

  .resume p {
    margin-block: 0;
  }
</style>
